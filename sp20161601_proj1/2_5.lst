0000	COPY   START  0	
0000	FIRST  STL    RETADR	032001
0000	       LDB    #LENGTH	032001
0000	       BASE   LENGTH	032001
0000	CLOOP  +JSUB  RDREC	032001
0000	       LDA    LENGTH	032001
0000	       COMP   #0	032001
0000	       JEQ    ENDFIL	032001
0000	       +JSUB  WRREC	032001
0000	       J      CLOOP	032001
0000	ENDFIL LDA    EOF	032001
0000	       STA    BUFFER	032001
0000	       LDA    #3	032001
0000	       STA    LENGTH	032001
0000	       +JSUB  WRREC	032001
0000	       J      @RETADR	032001
0000	EOF    BYTE   C'EOF'	032001
0000	RETADR RESW   1	032001
0000	LENGTH RESW   1	032001
0000	BUFFER RESB   4096	032001
    	.	032001
    	.      SUBROUTINE TO READ RECORD INTO BUFFER	032001
    	.	032001
0000	RDREC  CLEAR  X	032001
0000	       CLEAR  A	032001
0000	       CLEAR  S	032001
0000	       +LDT   #4096	032001
0000	RLOOP  TD     INPUT	032001
0000	       JEQ    RLOOP	032001
0000	       RD     INPUT	032001
0000	       COMPR  A, S	032001
0000	       JEQ    EXIT	032001
0000	       STCH   BUFFER, X	032001
0000	       TIXR   T	032001
0000	       JLT    RLOOP	032001
0000	EXIT   STX    LENGTH	032001
0000	       RSUB	032001
0000	INPUT  BYTE   X'F1'	032001
    	.	032001
    	.      SUBROUTINE TO WRITE RECORD FROM BUFFER	032001
    	.	032001
0000	WRREC  CLEAR  X	032001
0000	       LDT    LENGTH	032001
0000	WLOOP  TD     OUTPUT	032001
0000	       JEQ    WLOOP	032001
0000	       LDCH   BUFFER, X	032001
0000	       WD     OUTPUT	032001
0000	       TIXR   T	032001
0000	       JLT    WLOOP	032001
0000	       RSUB	032001
0000	OUTPUT BYTE   X'05'	032001
0000	       END    FIRST	032001
0000		032001
